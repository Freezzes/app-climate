<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">

    <title>Collapsible sidebar using Bootstrap 4</title>

    <!-- Bootstrap CSS CDN -->
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.1.0/css/bootstrap.min.css" integrity="sha384-9gVQ4dYFwwWSjIDZnLEWnxCjeSWFphJiwGPXr1jddIhOegiu1FwO5qRGvFXOdJZ4" crossorigin="anonymous">
    <!-- Our Custom CSS -->
    <!-- <link rel="stylesheet" href="style4.css"> -->

    <!-- Font Awesome JS -->
    <script defer src="https://use.fontawesome.com/releases/v5.0.13/js/solid.js" integrity="sha384-tzzSw1/Vo+0N5UhStP3bvwWPq+uvzCMfrN1fEFe+xBmv1C/AtVX5K0uZtmcHitFZ" crossorigin="anonymous"></script>
    <script defer src="https://use.fontawesome.com/releases/v5.0.13/js/fontawesome.js" integrity="sha384-6OIrr52G08NpOFSZdxxz1xdNSndlD4vdcf/q2myIUVO0VsqaGHJsB0RaBE01VTOY" crossorigin="anonymous"></script>
    <script>
        $('button').on('click', function() {
            $('button').removeClass('active');
            $(this).addClass('active');
        });
    </script>

    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
    <link rel="preconnect" href="https://fonts.gstatic.com">
    <link rel="preconnect" href="https://fonts.gstatic.com">
    <link href="https://fonts.googleapis.com/css2?family=Open+Sans&display=swap" rel="stylesheet">
    <!-- input -->
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.4.1/css/bootstrap.min.css" />
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
    <link href="https://maxcdn.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css" rel="stylesheet">
    <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.7.0/css/all.css"
        integrity="sha384-lZN37f5QGtY3VHgisS14W3ExzMWZxybE1SJSEsQp9S+oqd12jhcu+A56Ebc1zFSJ" crossorigin="anonymous">

</head>

<body>
    <div class="wrapper">
        <!-- Sidebar  -->
        <nav id="sidebar">
            <ul class="list-unstyled components">
                <li>
                    <div >
                        <div class="leftworld">
                            <a data-toggle="collapse" aria-expanded="false"  role="button"  style="font-size: 23px;font-family: 'Open Sans', sans-serif;color: #0a61a3;font-weight: 600;">
                                Climate <br> Visualization  
                            </a>   
                        </div>
                        <div class="rightworld" style="font-size: 20px;font-family: 'Open Sans', sans-serif;color: #0a61a3;font-weight: 600;">
                            <i class="fas fa-globe-americas fa-3x"></i>
                        </div>
                    </div>
                    <div>
                        <form [formGroup]="choosedataset">
                            <label style="color: midnightblue;font-size: 15px;font-family: 'Open Sans', sans-seri;" >Datatset :</label>
                            <select formControlName="set" style="max-width:100%;" class="form-control" >
                                <option [ngValue]="null" disabled>None</option>
                                <option *ngFor="let f of dataset_name" [value]="f.name">{{f.name}}</option>
                            </select> 
                        </form>      
                        <form [formGroup]="choosefile">
                            <label style="color: midnightblue;font-size: 15px;font-family: 'Open Sans', sans-serif;">Index :</label>         
                            <select formControlName="file" style="max-width:100%;" class="form-control">
                                <option [ngValue]="null" disabled>None</option>
                                <option *ngFor="let f of filename" [value]="f.id">{{f.name}}</option>
                            </select>
                        </form>
                        <div class="form-group hidden">
                            <div class="input-group">
                                <input name="datepicker" id="datepicker" class="form-control1" ngbDatepicker #datepicker="ngbDatepicker"
                                    [autoClose]="'outside'" (dateSelect)="onDateSelection($event)" [displayMonths]="2" [dayTemplate]="t"
                                    outsideDays="hidden" [minDate]="{year: 1901, month: 1, day: 1}" >
                                <ng-template #t let-date let-focused="focused">
                                    <span class="custom-day" [class.focused]="focused" [class.range]="isRange(date)"
                                        [class.faded]="isHovered(date) || isInside(date)" (mouseenter)="hoveredDate = date"
                                        (mouseleave)="hoveredDate = null">
                                        {{ date.day }}
                                    </span>
                                </ng-template>
                            </div>
                        </div>
                        <label style="color: midnightblue;font-size: 15px;font-family: 'Open Sans', sans-serif;">start : </label>
                        <div class="input-group">
                            <input #dpFromDate class="form-control" placeholder="yyyy-mm-dd" name="dpFromDate"
                                [value]="formatter.format(fromDate)"
                                (input)="fromDate = validateInput(fromDate, dpFromDate.value)">
                            <div class="input-group-append">
                                <button class="btn btn-outline-secondary calendar" (click)="datepicker.toggle(); clearSelect()"
                                    type="button" style="background-color: rgb(255, 255, 255);"><i class="far fa-calendar-alt"></i></button>
                            </div>
                        </div>
                        <label style="color: midnightblue;font-size: 15px;font-family: 'Open Sans', sans-serif;">stop :</label>
                        <div class="input-group">
                            
                            <input #dpToDate class="form-control" placeholder="yyyy-mm-dd" name="dpToDate"
                                [value]="formatter.format(toDate)" (input)="toDate = validateInput(toDate, dpToDate.value)">
                            <div class="input-group-append">
                                <button class="btn btn-outline-secondary calendar" (click)="datepicker.toggle()"
                                    type="button" style="background-color: rgb(255, 255, 255);"><i class="far fa-calendar-alt"></i></button>
                            </div>
                        </div>
                        
                        <label style="color: midnightblue;font-size: 15px;font-family: 'Open Sans', sans-serif;">Select Region :</label>
                        <div class="input-group input-group-sm mb-3" style="margin-left: 33%; max-width:35%; ">
                            <div class="input-group-prepend ">
                              <span class="input-group-text" id="basic-addon1">N</span>
                            </div>
                            <input type="text" class="form-control" placeholder="90" [formControl]="North">
                        </div>
                        <form class="form-inline">
                            <div class="input-group input-group-sm mb-3" style="margin-left: 5%; width: 35%;">
                                <div class="input-group-prepend" >
                                    <span class="input-group-text" id="basic-addon1">W</span>
                                </div>
                                <input type="text" class="form-control" placeholder="-180" [formControl]="West">
                            </div> 
                            <span class="input-group input-group mb-3" style="margin-left: 8%;"><i class="fas fa-compass"></i></span> 
                            <div class="input-group input-group-sm mb-3" style="margin-left: 8%; width: 35%;">
                                <div class="input-group-prepend ">
                                    <span class="input-group-text" id="basic-addon1">E</span>
                                </div>
                                <input type="text" class="form-control" placeholder="180" [formControl]="East" >
                            </div>
                        </form>
                        <div class="input-group input-group-sm mb-3" style="margin-left: 33%; max-width:35%; ">
                            <div class="input-group-prepend ">
                              <span class="input-group-text" id="basic-addon1">S</span>
                            </div>
                            <input type="text" class="form-control" placeholder="-90" [formControl]="South">
                        </div>
                        
                        <div style="margin-left: 3px;" role="group" aria-label="Basic example">
                            <button type="button" class="buttongrid" (click)="Map();"><i class="fas fa-map-marked-alt"></i><br>Grid</button>
                            <button type="button" class="buttongrid" (click)="percent()"><i class="fas fa-layer-group"></i><br>Different</button>
                            <button type="button" class="buttongrid" (click)="station_thai()"><i class="fas fa-map-marker-alt"></i><br>Station</button>

                        </div> 
                    </div>   
                </li>
            </ul>
        </nav>
   
        <div style="margin-bottom: 5%;margin-left: 20%;">
            <div  *ngIf="select == 'Map'">
                <app-netcdf [data]="choosedataset.controls['set'].value"
                            [file]="choosefile.controls['file'].value" 
                            [startyear]="this.fromDate.year"
                            [stopyear]="this.toDate.year"
                            [startmonth]="this.fromDate.month"
                            [stopmonth]="this.toDate.month"
                            [per] = "per"></app-netcdf>
            </div>
            <div  *ngIf="select == 'Map'">
                <app-netcdfgraph [file]="choosefile.controls['file'].value">
                </app-netcdfgraph>
            </div>
        </div>
    
        <div class="left" *ngIf="select == 'station'">
            <app-map [file]="choosefile.controls['file'].value" 
            [start_date]="this.start_date"
            [stop_date]="this.stop_date"></app-map>
        </div>
        <div class="right" *ngIf="select == 'station'">
            <app-boxplot    [file]="choosefile.controls['file'].value" 
                            [startyear]="this.fromDate.year"
                            [stopyear]="this.toDate.year"
                            [startmonth]="this.fromDate.month"
                            [stopmonth]="this.toDate.month"
                            [startday]="this.fromDate.day"
                            [stopday]="this.toDate.day"></app-boxplot>
        </div>
        <router-outlet ></router-outlet>           
    </div>


    <!-- jQuery CDN - Slim version (=without AJAX) -->
    <script src="https://code.jquery.com/jquery-3.3.1.slim.min.js" integrity="sha384-q8i/X+965DzO0rT7abK41JStQIAqVgRVzpbzo5smXKp4YfRvH+8abtTE1Pi6jizo" crossorigin="anonymous"></script>
    <!-- Popper.JS -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.0/umd/popper.min.js" integrity="sha384-cs/chFZiN24E4KMATLdqdvsezGxaGsi4hLGOzlXwp5UZB1LY//20VyM2taTB4QvJ" crossorigin="anonymous"></script>
    <!-- Bootstrap JS -->
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.1.0/js/bootstrap.min.js" integrity="sha384-uefMccjFJAIv6A+rW+L4AHf99KvxDjWSu1z9VI8SKNVmz4sk7buKt/6v9KI65qnm" crossorigin="anonymous"></script>

</body>

</html>



    <div style="margin-bottom: 5%;margin-left: 20%;">
            <div *ngIf="select == 'percent'" >
                <app-netcdf [file]="choosefile.controls['file'].value"
                            [per] = "per"></app-netcdf>
            </div>
    </div>

